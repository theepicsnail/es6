{"version":3,"sources":["webpack:///webpack/bootstrap 46ea8e9f027c57c4bf6e","webpack:///./lib/main.js","webpack:///./lib/Board.js","webpack:///./lib/Array2D.js","webpack:///./lib/Cell.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 46ea8e9f027c57c4bf6e\n **/","// Setup animation. Calls simulate(delta_ms) -> bool(true = end, false/undefined = continue)\nvar lastTime = 0;\nvar running = true;\nfunction frame(time = 0) {\n  if(!running) return;\n  requestAnimationFrame(frame);\n\n  var dt = time - lastTime;\n  if(dt>100){\n    lastTime = time;\n    return;\n  }\n  running = !simulate(dt/1000.0);\n}\nsetTimeout(frame, 0);\n\nimport {Cell} from \"./Cell.js\";\nimport Board from \"./Board.js\";\ncanvas.width = 500;\ncanvas.height = 500;\nvar ctx = canvas.getContext(\"2d\");\n\nvar board = new Board(document.getElementById(\"canvas\"));\nboard.grid.set(0,4, new Cell(\"#0000FF\"));\n\nfunction simulate(dt) {\n  return true;\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/main.js\n **/","import Array2d from \"./Array2D.js\";\nimport {EMPTY_CELL} from \"./Cell.js\";\n\n// 500  = full width\n// 11 gaps + 10 cells.\nvar gap_size = 10; // px\n// 500 - 11 * gap = 390 px\n// 390 / 10 cells = 39 per cell\nvar cell_size = 39;\n\nvar borderColor = {\n  \"normal\": \"#CCC\",\n  \"hover\": \"#88F\",\n  \"selected\": \"#000\",\n}\n\nfunction forwardMouseEvents(canvas, target) {\n  canvas.onmousedown=target.onmousedown.bind(target);\n  canvas.onmousemove=target.onmousemove.bind(target);\n}\n\nfunction equalPoints(p1, p2) {\n  return p1.x == p2.x && p1.y == p2.y;\n}\n\nexport default class Board {\n  constructor(canvas) {\n    // Setup canvas\n    this.canvas = canvas;\n    this.ctx = canvas.getContext(\"2d\");\n\n    forwardMouseEvents(canvas, this);\n\n    // Setup grid\n    this.grid = new Array2d(10,10)\n      .fill(()=>EMPTY_CELL);\n\n    // Extras\n    this.hover = {x:-1, y:-1};\n    this.selected = {x:-1, y:-1};\n\n    this.draw();\n  }\n\n  draw() {\n    var ctx = this.ctx;\n    var step = gap_size + cell_size;\n    ctx.lineWidth = 2;\n\n    // Clear the board\n    ctx.fillStyle=\"#fff\";\n    ctx.fillRect(0,0,this.canvas.width, this.canvas.height);\n\n    // Fill it back in\n    this.grid.map((cell, x, y)=>{\n      ctx.fillStyle=cell.color;\n      var pt = {x:x,y:y};\n      if(equalPoints(this.selected, pt))\n        ctx.strokeStyle=borderColor[\"selected\"];\n      else if(equalPoints(this.hover, pt))\n        ctx.strokeStyle=borderColor[\"hover\"];\n      else\n        ctx.strokeStyle=borderColor[\"normal\"];\n\n      // grid coord -> screen coord\n      x = x * step + gap_size;\n      y = y * step + gap_size;\n      ctx.fillRect(x, y, cell_size, cell_size);\n      ctx.strokeRect(x, y, cell_size, cell_size);\n    });\n  }\n\n\n  getPos(evt) {\n    var bounds = canvas.getBoundingClientRect();\n    return {\n      x: evt.clientX - bounds.left,\n      y: evt.clientY - bounds.top\n    };\n  }\n\n\n  getGridPos(evt) {\n    var pos = this.getPos(evt);\n    var size = cell_size + gap_size;\n    if(pos.x % size <= gap_size)\n      return {x:-1, y:-1};\n    if(pos.y % size <= gap_size)\n      return {x:-1, y:-1};\n    return {\n      x: pos.x / size | 0,\n      y: pos.y / size | 0};\n  }\n\n\n  onmousemove(evt) {\n    this.hover = this.getGridPos(evt);\n    this.draw();\n\n    //var pos = this.getPos(evt);\n    //this.ctx.strokeRect(pos.x-10, pos.y-10, 20,20);\n  }\n\n  onmousedown(evt) {\n    var old = this.selected;\n    this.selected = this.getGridPos(evt);\n\n    if(equalPoints(this.selected, old)) {\n      // \"unselect\"\n      this.selected.x = -1;\n    }\n\n    this.draw();\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/Board.js\n **/","\nclass Array2D {\n  constructor(rows, cols) {\n    this.rows = rows;\n    this.cols = cols;\n    this.length = rows * cols;\n    this.data = new Array(this.length);\n  }\n  fill(func) {\n    for(var i = 0 ; i < this.length ; i ++)\n      this.data[i] = func(i/this.cols|0, i%this.cols);\n    return this;\n  }\n  map(func) {\n    for(var i = 0 ; i < this.length ; i ++)\n      func(this.data[i], i/this.cols|0, i%this.cols)\n    return this;\n  }\n  get(row, col) {\n    if(row < 0) row += this.rows;\n    if(row >= this.rows) row -= this.rows;\n    if(col < 0) col += this.cols;\n    if(col >= this.cols) col -= this.cols;\n    return this.data[row*this.cols + col];\n  }\n  set(row, col, val) {\n    this.data[row*this.cols + col] = val;\n    return this;\n  }\n}\n\nexport default Array2D;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/Array2D.js\n **/","\nexport class Cell {\n  constructor(color) {\n    this.color = color;\n    this.code = \"\";\n  }\n\n}\nexport const EMPTY_CELL = new Cell(\"#FFFFFF\");\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/Cell.js\n **/"],"sourceRoot":""}